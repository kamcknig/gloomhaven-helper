<p-card>
  <ng-template pTemplate="title">
    {{value?.name}}
  </ng-template>

  <ng-container *ngIf="{ level: (appService.scenarioStore.level$ | async) ?? 0 } as level">
  <div class="flex flex-row justify-content-between text-m">
    <div class="flex flex-column">

        <span class="flex gap-2 flex-row align-items-center"><img class="icon" src="assets/icons/health.png">{{getStatDisplayValue(value?.health?.[level.level ?? 0]?.[0])}}</span>
        <span class="flex gap-2 flex-row align-items-center"><img class="icon" src="assets/icons/move.png">{{getStatDisplayValue(value?.move?.[level.level]?.[0])}}</span>
        <span class="flex gap-2 flex-row align-items-center"><img class="icon" src="assets/icons/attack.png">{{getStatDisplayValue(value?.attack?.[level.level]?.[0])}}</span>
        <span class="flex gap-2 flex-row align-items-center"><img class="icon" src="assets/icons/range.png">{{getStatDisplayValue(value?.range?.[level.level]?.[0])}}</span>

    </div>

    <p-divider class="flex-none" layout="vertical"></p-divider>

    <div class="flex flex-column align-items-end">
      <span class="flex gap-2 flex-row align-items-center"><img class="icon" src="assets/icons/health.png">{{getStatDisplayValue(value?.health?.[0]?.[1])}}</span>
      <span class="flex gap-2 flex-row align-items-center"><img class="icon" src="assets/icons/move.png">{{getStatDisplayValue(value?.move?.[0]?.[1])}}</span>
      <span class="flex gap-2 flex-row align-items-center"><img class="icon" src="assets/icons/attack.png">{{getStatDisplayValue(value?.attack?.[0]?.[1])}}</span>
      <span class="flex gap-2 flex-row align-items-center"><img class="icon" src="assets/icons/range.png">{{getStatDisplayValue(value?.range?.[0]?.[1])}}</span>
    </div>
  </div>
  </ng-container>

  <p-divider></p-divider>

  <div class="text-m">
    <span class="flex-1">Tokens</span>

    <div class="flex flex-row justify-content-between">
      <p-scrollPanel [style]="{ maxHeight: '6.7rem' }" class="flex flex-auto">
        <p-dataView [value]="tokens" layout="list">
          <ng-template let-token pTemplate="listItem">
            <span class="col-12">{{token.number}} - <span [ngStyle]="{color: 'var(--red-600)' }">{{token.health}}</span></span>
          </ng-template>
        </p-dataView>
      </p-scrollPanel>

      <p-divider class="flex-none" layout="vertical"></p-divider>

      <p-scrollPanel [style]="{ maxHeight: '6.7rem' }" class="flex flex-auto">
        <p-dataView [value]="tokens" layout="list" class="">
          <ng-template let-token pTemplate="listItem">
            <span class="col-12">{{token.number}} - <span [ngStyle]="{color: 'var(--red-600)' }">{{token.health}}</span></span>
          </ng-template>
        </p-dataView>
      </p-scrollPanel>
    </div>
  </div>

  <ng-template pTemplate="footer">
    <button pButton icon="pi pi-plus" class="p-button-rounded" style="height: 2rem; width: 2rem;"></button>
  </ng-template>
</p-card>
