<div fxLayout="row"
     fxLayoutGap="5px">
  <div class="active-indicator"
       style="width: 20px; margin-right: 0"
       [ngStyle]="{'display': active ? 'initial' : 'none'}"></div>

  <section fxLayout="column"
           #leftSection>
    <div class="header">
      <!-- the name and level -->
      <span class="monster-name">{{ monster?.name }}</span>

      <app-monster-level [monster]="monster"></app-monster-level>

      <span *ngIf="monster.flying">
        <img class="flying-icon"
             src="/assets/icons/flying.png">
      </span>

      <div class="header-button-container">
        <button mat-mini-fab
                id="add-token"
                type="button"
                (click)="tokenService.addToken$.next(monster.id)">T
        </button>
      </div>
    </div>

    <div class="stats-container"
         fxLayout="row">
      <ng-container *ngFor="let idx of [0, 1]">
        <div fxLayout="column"
             fxFlex>
          <app-monster-stats [monster]="monster"
                             [index]="idx"
                             [level]="monsterLevel$ | async"
                             [class]="idx === 0 ? 'normal' : 'elite'">
          </app-monster-stats>

          <div fxLayout="row wrap"
               fxLayoutGap="2px grid">
              <ng-container *ngFor="let token of tokens$ | async">
                <span>{{ token.number }}</span> - <span style="color: #a00707">{{ token.health ?? token.maxHealth }}</span>
              </ng-container>
          </div>
        </div>

        <mat-divider *ngIf="idx === 0" style="border-right-color: rgba(var(--gold), .5); border-right-width: 2px"
                     [vertical]="true"></mat-divider>
      </ng-container>
    </div>
  </section>

  <section #rightSection>
    <app-monster-ability-deck [ngStyle]="{'visibility': !active ? 'visible' : 'hidden'}"
                              [monster]="monster"></app-monster-ability-deck>
  </section>
</div>
